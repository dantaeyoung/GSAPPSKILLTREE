(function(t){function e(e){for(var i,s,r=e[0],c=e[1],u=e[2],d=0,p=[];d<r.length;d++)s=r[d],Object.prototype.hasOwnProperty.call(o,s)&&o[s]&&p.push(o[s][0]),o[s]=0;for(i in c)Object.prototype.hasOwnProperty.call(c,i)&&(t[i]=c[i]);l&&l(e);while(p.length)p.shift()();return a.push.apply(a,u||[]),n()}function n(){for(var t,e=0;e<a.length;e++){for(var n=a[e],i=!0,r=1;r<n.length;r++){var c=n[r];0!==o[c]&&(i=!1)}i&&(a.splice(e--,1),t=s(s.s=n[0]))}return t}var i={},o={app:0},a=[];function s(e){if(i[e])return i[e].exports;var n=i[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=t,s.c=i,s.d=function(t,e,n){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)s.d(n,i,function(e){return t[e]}.bind(null,i));return n},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],c=r.push.bind(r);r.push=e,r=r.slice();for(var u=0;u<r.length;u++)e(r[u]);var l=c;a.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"0538":function(t,e,n){"use strict";var i=n("a2d5"),o=n.n(i);o.a},"0be6":function(t,e,n){"use strict";var i=n("fee9"),o=n.n(i);o.a},1:function(t,e){},"1cee":function(t,e,n){"use strict";var i=n("c894"),o=n.n(i);o.a},"26ce":function(t,e,n){"use strict";var i=n("7d9e"),o=n.n(i);o.a},"2e6d":function(t,e,n){"use strict";var i=n("5de6"),o=n.n(i);o.a},3397:function(t,e,n){"use strict";var i=n("7ce2"),o=n.n(i);o.a},3589:function(t,e,n){},3823:function(t,e,n){},"4b0a":function(t,e,n){"use strict";var i=n("3823"),o=n.n(i);o.a},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var i=n("2b0e"),o=n("31bd"),a=n("8c4f"),s=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},r=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"comingsoon"},[i("img",{staticClass:"svglogo",attrs:{src:n("9b19"),alt:"GSAPP SKILL TRAILS"}}),i("h2",[t._v("coming soon!")])])}],c={name:"ComingSoon",components:{},computed:{},methods:{}},u=c,l=(n("26ce"),n("2877")),d=Object(l["a"])(u,s,r,!1,null,"1cb7e77c",null),p=d.exports,f=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},h=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"about"},[n("h1",[t._v("This is an about page")])])}],m={name:"About",components:{},computed:{},methods:{}},g=m,v=(n("c1dc"),Object(l["a"])(g,f,h,!1,null,"3c4cd6e6",null)),y=v.exports,w=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"vwFrame",class:{isViewing:t.currentlyViewingWaypoint}},[i("div",{staticClass:"vwContent"},[t.waypointdata&&t.waypointdata.fields?i("div",[i("div",{staticClass:"title"},[i("img",{staticClass:"waypointicon",attrs:{src:n("5ece")}}),t._v(" "+t._s(t.waypointdata.fields.Name)+" ")]),t.waypointdata.fields["Author Name"]?i("div",{staticClass:"author"},[t._v(" By "),i("span",{staticClass:"name"},[t._v(" "+t._s(t.waypointdata.fields["Author Name"]))])]):t._e(),i("div",{staticClass:"description"},[t._v(t._s(t.waypointdata.fields.Description))]),i("div",{staticClass:"link"},[i("div",{staticClass:"linkto skew"},[t._v("Link:")]),i("a",{attrs:{href:t.waypointdata.fields.URL,target:"_blank"}},[t._v(t._s(t.waypointdata.fields.URL))])]),t.coverImageThumbnail?i("div",{staticClass:"coverimage"},[i("img",{attrs:{src:t.coverImageThumbnail}})]):t._e(),"Trails"in t.waypoints[t.thisid].fields&&t.waypoints[t.thisid].fields.Trails.length>0?i("div",{staticClass:"trailsPartOf"},[i("div",{staticClass:"partof skew"},[t._v(" In trails: ")]),i("div",{staticClass:"trails"},t._l(t.waypoints[t.thisid].fields.Trails,(function(e){return i("div",{key:e,staticClass:"trail"},[i("img",{staticClass:"trailicon",attrs:{src:n("a4af")}}),t._v(t._s(t.trails[e].fields.Name)+" ")])})),0)]):t._e()]):t._e()])])},b=[],_=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"VideoEmbed"}},[t.isVimeo?n("div",{staticClass:"video-vimeo"},[n("iframe",{attrs:{src:"https://player.vimeo.com/video/"+t.videoid,width:"100%",height:"100%",frameborder:"0",allow:"autoplay; fullscreen",allowfullscreen:""}})]):t._e(),t.isYoutube?n("div",{staticClass:"video-youtube"},[n("iframe",{attrs:{width:"100%",height:"100%",src:"https://www.youtube-nocookie.com/embed/"+t.videoid,frameborder:"0",allow:"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture",allowfullscreen:""}})]):t._e()])},T=[],C=(n("ac1f"),n("466d"),{name:"VideoEmbed",components:{},props:["url"],created:function(){console.log(this.$route.params)},computed:{isVimeo:function(){var t=this.url.match(/vimeo\.com\/(\d+)/);return null!==t},isYoutube:function(){var t=this.url.match(/youtube\.com\/.*v=(\w+)/);return null!==t},videoid:function(){var t=this.url.match(/vimeo\.com\/(\d+)/);if(null!==t&&t.length>=2)return t[1];var e=this.url.match(/youtube\.com\/.*v=(\w+)/);return null!==e&&e.length>=2?e[1]:""}}}),k=C,S=(n("4b0a"),Object(l["a"])(k,_,T,!1,null,"3e6acd0a",null)),W=S.exports,D={name:"ViewWaypoint",components:{VideoEmbed:W},mounted:function(){},computed:{currentlyViewingWaypoint:function(){return this.$store.state.route.params.wpid},waypointdata:function(){return this.$store.getters.waypoints[this.thisid]},waypoints:function(){return this.$store.state.waypoints},trails:function(){return this.$store.state.trails},thisid:function(){return this.$route.params.wpid},coverImageThumbnail:function(){try{return this.waypointdata.fields["Cover Image"][0]["thumbnails"]["large"]["url"]}catch(t){return null}}}},x=D,$=(n("84e6"),Object(l["a"])(x,w,b,!1,null,"ea9f84ae",null)),M=$.exports,O=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:t.cursorMode,attrs:{id:"graphframe"}},[n("div",{attrs:{id:"graphnav"}},[n("DevInterface"),n("CursorToolbar")],1),n("MouseDialog",{attrs:{mouseeventid:"graphframe"}}),n("div",{class:{shiftPressed:t.shiftPressed,altPressed:t.altPressed},attrs:{id:"graphwindow"}},[n("div",{attrs:{id:"graphcontents"},on:{click:t.onClick}},[t._l(t.waypoints,(function(e,i){return n("DraggableWaypoint",{key:i,staticClass:"panzoom-exclude",attrs:{waypointdata:e,zoomscale:t.zoomScale,id:"waypoint-"+i}})})),n("svg",{staticClass:"panzoom-exclude",attrs:{id:"trails"}},[n("defs",[n("marker",{attrs:{id:"svgtrailarrow",markerWidth:"4",markerHeight:"4",orient:"auto",refY:"2"}},[n("path",{attrs:{d:"M0,0 L4,2 0,4"}})])]),t._l(t.trails,(function(t,e){return n("Trail",{key:e,staticClass:"panzoom-exclude",attrs:{traildata:t}})}))],2),n("GraphBackground",{staticClass:"panzoom-exclude"})],2)])],1)},P=[],E=n("dce4"),j=n.n(E),L=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.isTouchDevice?t._e():i("div",{style:t.positionStyle,attrs:{id:"MouseDialog"}},[1==t.cursorMode.navigate?i("div",{staticClass:"waypointInfo"},[t._l(t.hoveringTrails,(function(e){return i("div",{key:e,staticClass:"hoverTrail"},[i("div",{staticClass:"trailIconName"},[i("img",{staticClass:"trailicon",attrs:{src:n("a4af")}}),i("div",{staticClass:"trailName"},[t._v(t._s(t.trails[e].fields.Name))])])])})),t._l(t.hoveringWaypoints,(function(e){return i("div",{key:e,staticClass:"hoverWaypoint"},[i("span",{staticClass:"wpName"},[t._v(t._s(t.waypoints[e].fields.Name))]),i("span",[t._v(", part of")]),i("div",{staticClass:"trailNames"},t._l(t.trailsOfHoveringWaypoints,(function(e){return i("div",{key:e,staticClass:"trailIconName"},[i("img",{staticClass:"trailicon",attrs:{src:n("a4af")}}),i("div",{staticClass:"trailName"},[t._v(" "+t._s(t.trails[e].fields.Name)+" ")])])})),0)])}))],2):t._e(),1==t.cursorMode.markasdone&&t.hoveringWaypoints.length>0?i("div",{staticClass:"markModeInfo"},[i("div",{staticClass:"markasdone"},[t._v(" Mark as done: ")]),t._l(t.hoveringWaypoints,(function(e){return i("div",{key:e,staticClass:"hoverMarkWaypoint"},[i("span",{staticClass:"wpName"},[t._v(t._s(t.waypoints[e].fields.Name))])])}))],2):t._e()])},B=[],z=(n("99af"),n("4de4"),n("d81d"),{name:"MouseDialog",data:function(){return{posX:0,posY:0}},props:["mouseeventid"],components:{},mounted:function(){this.initMouseListener()},computed:{isTouchDevice:function(){return this.$store.state.isTouchDevice},cursorMode:function(){return this.$store.state.cursorMode},hoveringWaypoints:function(){return this.$store.state.hoveringWaypoints},hoveringTrails:function(){return this.$store.state.hoveringTrails},trails:function(){return this.$store.getters.trails},waypoints:function(){return this.$store.getters.waypoints},positionStyle:function(){return"position: absolute;\n      top: ".concat(this.posY,"px;\n      left: ").concat(this.posX,"px;")},trailsOfHoveringWaypoints:function(){var t=this,e=t.hoveringWaypoints.map((function(e){return t.waypoints[e].fields.Trails})).filter((function(t){return void 0!==t}));return e.length>0?[].concat.apply([],e):null}},methods:{initMouseListener:function(){var t=this,e=document.getElementById(t.mouseeventid),n=e.getBoundingClientRect();e.addEventListener("mousemove",(function(e){t.posX=e.clientX-n.left,t.posY=e.clientY-n.top}))}}}),V=z,H=(n("8350"),Object(l["a"])(V,L,B,!1,null,"3e713b74",null)),I=H.exports,N=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{attrs:{id:"DevInterface"}},[n("div",[t._v("Debug Interface (ignore me)")]),n("button",{on:{click:t.toggleDraggable}},[t._v(" draggable: "+t._s(t.waypointsDraggable)+" ")]),n("button",{on:{click:function(e){t.showCoordinates=!t.showCoordinates}}},[t._v(" toggle coordinate dialog ")]),n("button",{on:{click:t.toggleFilter}},[t._v("filter: "+t._s(t.isFiltered))]),n("button",{on:{click:t.toggleGC}},[t._v("display graphcommons: "+t._s(t.displayGraphCommons))]),n("button",{on:{click:t.clearState}},[t._v("clear vuex state")])]),t.showCoordinates?n("div",{staticClass:"showcoordinates"},[n("button",{on:{click:function(e){return t.tableclip()}}},[t._v("copy table"+t._s(t.copytablestatus))]),n("table",{staticStyle:{width:"100%"},attrs:{id:"coordinatestable"}},t._l(t.urlsortedWaypoints,(function(e){return n("tr",{key:e.id},[n("th",[t._v(t._s(e.fields.URL))]),n("th",[t._v(" "+t._s(t.coordinateDetransform(e.fields.coordinateX+t.lookupTransform(e.id).x))+" ")]),n("th",[t._v(" "+t._s(t.coordinateDetransform(e.fields.coordinateY+t.lookupTransform(e.id).y))+" ")])])})),0)]):t._e()])},A=[],G=(n("b680"),n("07ac"),n("4d63"),n("25f0"),n("f904")),Y=n.n(G),R={name:"DevInterface",data:function(){return{draggablelist:null,showCoordinates:!1,copytablestatus:"",isFiltered:!0}},components:{},created:function(){},computed:{waypoints:function(){return this.$store.getters.waypoints},waypointsDraggable:function(){return this.$store.state.waypointsDraggable},sidelength:function(){return this.$store.state.sidelength},displayGraphCommons:function(){return this.$store.state.displayGraphCommons},urlsortedWaypoints:function(){return Object.values(this.waypoints).sort((function(t,e){return(""+t.fields.URL).localeCompare(e.fields.URL)}))}},methods:{clearState:function(){this.$store.dispatch("clearPersistedState")},toggleFilter:function(){this.isFiltered=!this.isFiltered,this.isFiltered?this.$store.dispatch("filterTrailsAndWaypoints",{trailStatusesToShow:["Published"],waypointStatusesToShow:["Published"]}):this.$store.dispatch("filterTrailsAndWaypoints",{trailStatusesToShow:["Published","Draft"],waypointStatusesToShow:["Published","Draft"]})},coordinateDetransform:function(t){var e=2*t/this.sidelength-1;return+e.toFixed(3)},tableclip:function(){var t=this;this.$forceUpdate(),Y()(document.getElementById("coordinatestable").innerText),this.copytablestatus=" : copied!",setTimeout((function(){t.copytablestatus=""}),1e3)},lookupTransform:function(t){var e=document.getElementById("waypoint-"+t).style.transform;e=e||"";var n=new RegExp(/translate\(([-\d\.]+)px,\s*([-\d\.]+)/),i=e.match(n);return null!==i&&i.length>=3?{x:parseFloat(i[1]),y:parseFloat(i[2])}:{x:0,y:0}},toggleGC:function(){this.$store.commit("setDisplayGraphCommons",!this.displayGraphCommons)},toggleDraggable:function(){this.$store.commit("setWaypointsDraggable",!this.waypointsDraggable)}}},X=R,F=(n("75a0"),Object(l["a"])(X,N,A,!1,null,"312de251",null)),U=F.exports,K=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{attrs:{id:"CursorToolbar"}},[n("ToolbarButton",{attrs:{mode:"navigate",alt:"Navigate",icon:"mouse-pointer"}}),n("ToolbarButton",{attrs:{mode:"markasdone",alt:"Mark as done",icon:"check-square"}}),n("ToolbarButton",{attrs:{mode:"zoom",alt:"Zoom",icon:"search"}}),t.isTouchDevice?t._e():n("ToolbarButton",{attrs:{mode:"hiking",alt:"Hiking mode (coming soon)",icon:"hiking"}})],1)])},Z=[],q=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"toolbarButton"},[n("button",{class:{active:t.cursorMode[t.mode]},attrs:{alt:t.alt},on:{click:function(e){return t.setCursorMode(t.mode)},mouseover:function(e){t.hover=!0},mouseleave:function(e){t.hover=!1}}},[n("font-awesome-icon",{staticClass:"icon",attrs:{icon:t.icon}})],1),t.hover?n("div",{staticClass:"explanation"},[t._v(t._s(t.alt))]):t._e()])},J=[],Q=n("ad3d"),tt=n("ecee"),et=n("c074");tt["c"].add(et["d"]),tt["c"].add(et["a"]),tt["c"].add(et["f"]),tt["c"].add(et["c"]),tt["c"].add(et["b"]);var nt={name:"ToolbarButton",data:function(){return{hover:!1}},props:["mode","icon","alt"],components:{FontAwesomeIcon:Q["a"]},created:function(){},computed:{cursorMode:function(){return this.$store.state.cursorMode}},methods:{setCursorMode:function(t){this.$store.commit("setCursorMode",{mode:t})}}},it=nt,ot=(n("0be6"),Object(l["a"])(it,q,J,!1,null,"bf093136",null)),at=ot.exports,st={name:"CursorToolbar",data:function(){return{}},components:{ToolbarButton:at},created:function(){},computed:{isTouchDevice:function(){return this.$store.state.isTouchDevice}},methods:{}},rt=st,ct=(n("0538"),Object(l["a"])(rt,K,Z,!1,null,"3e8163b5",null)),ut=ct.exports,lt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"draggablewaypoint",class:{isDraggable:t.waypointsDraggable,isBeingDragged:t.isBeingDragged},style:t.positionStyle,on:{click:t.onClick}},[n("WaypointIcon",{key:t.id,staticClass:"panzoom-exclude",attrs:{waypointdata:t.waypointdata,zoomscale:t.zoomscale,id:t.id}})],1)},dt=[],pt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("svg",{staticClass:"waypoint",class:{myTrailHovered:t.myTrailHovered,imBeingViewed:t.imBeingViewed,imMarkedDone:t.imMarkedDone},staticStyle:{"shape-rendering":"geometricPrecision","text-rendering":"geometricPrecision","image-rendering":"optimizeQuality"},style:t.svgStyle,attrs:{xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink","xml:space":"preserve",viewBox:"0 0 100 100"}},[i("g",{staticClass:"shape",class:{imBeingHovered:t.imBeingHovered},on:{click:t.onClick}},[i("clipPath",{staticClass:"polygonMask",attrs:{id:"polygonMask-"+t.waypointdata.id}},[i("polygon",{attrs:{points:t.polygonPoints}})]),i("polygon",{staticClass:"polygonBorder",attrs:{points:t.polygonPoints,id:"polygonBorder-"+t.waypointdata.id}}),i("foreignObject",{attrs:{x:"0%",y:"0%",width:"100%",height:"100%","clip-path":"url(#polygonMask-"+t.waypointdata.id+")"},on:{mouseover:function(e){return t.mouseEnter()},mouseleave:function(e){return t.mouseLeave()}}},[i("div",{staticClass:"circle colorfilter"},[i("img",{attrs:{src:t.ThumbUrl}}),i("div",{staticClass:"text"},[t._v(" "+t._s(t.waypointdata.fields.Name)+" ")]),i("br")])]),i("foreignObject",{staticClass:"check",attrs:{x:"0%",y:"0%",width:"100px",height:"100px"}},[i("img",{attrs:{src:n("a0b8")}})])],1)])},ft=[],ht=(n("cb29"),n("a630"),n("caad"),n("c975"),n("a15b"),n("2532"),n("3ca3"),n("5319"),n("498a"),{methods:{convertToSlug:function(t){return t.trim().toLowerCase().replace(/ /g,"-").replace(/[-]+/g,"-").replace(/[^\w-]+/g,"")}}}),mt=n("6125"),gt=n.n(mt);function vt(t,e,n,i){var o=0,a=-t*i,s=2*Math.PI/n*e,r=Math.cos(s),c=Math.sin(s),u=o*r-a*c+i,l=o*c+a*r+i;return{x:u,y:l}}function yt(t,e,n){return t*(n-e)+e}var wt={name:"WaypointIcon",mixins:[ht],data:function(){return{polygonvalues:[],maxRadius:50,location:null,imBeingHovered:!1}},props:["waypointdata"],computed:{svgStyle:function(){return"width: ".concat(2*this.radius,"; height: ").concat(2*this.radius,";")},radius:function(){return this.maxRadius},zoomScale:function(){return this.$store.state.zoomScale},cursorMode:function(){return this.$store.state.cursorMode},waypointsMarkedDone:function(){return this.$store.state.waypointsMarkedDone},hoveringTrails:function(){return this.$store.state.hoveringTrails},hoveringWaypoints:function(){return this.$store.state.hoveringWaypoints},currentlyViewingWaypoint:function(){return this.$store.state.route.params.wpid},waypointsDraggable:function(){return this.$store.state.waypointsDraggable},imBeingViewed:function(){return this.currentlyViewingWaypoint===this.waypointdata.id},imMarkedDone:function(){return this.waypointsMarkedDone.includes(this.waypointdata.id)},myTrailHovered:function(){var t=this;return t.hoveringTrails.filter((function(e){return t.waypointdata.fields.Trails.indexOf(e)>-1})).length>0},ThumbUrl:function(){try{return this.waypointdata.image.thumb.url}catch(t){return""}},polygonPointValues:function(){var t=3,e=3,n=new gt.a(this.waypointdata.id),i=this,o=Array.from({length:e},(function(){return i.imBeingHovered?.95:yt(n(),.5,.95)})),a=[].concat.apply([],Array(t).fill(o));return a},polygonPoints:function(){var t=this.polygonPointValues,e=(t.length,this);return e.polygonPointValues.map((function(t,n){var i=vt(t,n,e.polygonPointValues.length,e.radius);return i.x+","+i.y})).join(" ")}},methods:{mouseEnter:function(){var t=this;this.imBeingHovered=!0,this.$store.commit("addHoveringWaypoint",{id:t.waypointdata.id})},mouseLeave:function(){var t=this;this.imBeingHovered=!1,this.$store.commit("removeHoveringWaypoint",{id:t.waypointdata.id})},onClick:function(t){0==this.waypointsDraggable&&(1==this.cursorMode["navigate"]&&this.onClickViewWaypoint(),1==this.cursorMode["markasdone"]&&this.onClickToggleWaypointAsDone())},onClickViewWaypoint:function(){var t=this;t.$router.push({name:"MapView",params:{wpid:t.waypointdata.id,slug:t.convertToSlug(t.waypointdata.fields.Name)}}).catch((function(t){}))},onClickToggleWaypointAsDone:function(){var t=this;this.$store.dispatch("toggleWaypointDone",{id:t.waypointdata.id})}}},bt=wt,_t=(n("b604"),Object(l["a"])(bt,pt,ft,!1,null,"e1509a78",null)),Tt=_t.exports,Ct={name:"DraggableWaypoint",data:function(){return{location:null,isBeingDragged:!1,startCoords:{x:0,y:0},dragCoords:{x:0,y:0},parentListenerElement:null,shiftDown:!1,mouseX:0,mouseY:0}},components:{WaypointIcon:Tt},props:["waypointdata","zoomscale","id"],mounted:function(){var t=this;this.initShiftDetect(),this.$parent.$on("endDragging",(function(){t.endDragging()}))},computed:{waypointsDraggable:function(){return this.$store.state.waypointsDraggable},sidelength:function(){return this.$store.state.sidelength},positionStyle:function(){return"position: absolute; \n      top: ".concat(this.currentPosition.y,"px; \n      left: ").concat(this.currentPosition.x,"px;")},currentPosition:function(){return{x:this.waypointdata.fields.coordinateX+this.dragCoords.x,y:this.waypointdata.fields.coordinateY+this.dragCoords.y}}},methods:{initShiftDetect:function(){var t=this,e=this;window.addEventListener("keydown",(function(t){e.shiftDown=t.shiftKey})),window.addEventListener("keyup",(function(n){e.shiftDown=n.shiftKey,t.startCoords.x=t.mouseX,t.startCoords.y=t.mouseY}))},onClick:function(t){this.waypointsDraggable&&(0==this.isBeingDragged?this.startDragging(t):(this.endDragging(),this.$parent.$emit("endDragging")))},startDragging:function(t){var e=this;this.parentListenerElement=t.currentTarget.parentElement,this.parentListenerElement.addEventListener("mousemove",e.mouseMove),this.isBeingDragged=!0,this.startCoords={x:t.pageX,y:t.pageY}},mouseMove:function(t){this.mouseX=t.pageX,this.mouseY=t.pageY,this.isBeingDragged&&!t.shiftKey&&this.isBeingDragged&&(this.dragCoords={x:(t.pageX-this.startCoords.x)/this.zoomscale,y:(t.pageY-this.startCoords.y)/this.zoomscale})},endDragging:function(t){this.isBeingDragged&&(this.parentListenerElement.removeEventListener("mousemove",self.mouseMove),this.$store.commit("setWaypointCoordinates",{waypointid:this.waypointdata.id,x:this.currentPosition.x,y:this.currentPosition.y}),this.isBeingDragged=!1,this.dragCoords={x:0,y:0})}}},kt=Ct,St=(n("5eaa"),Object(l["a"])(kt,lt,dt,!1,null,null,null)),Wt=St.exports,Dt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("g",{staticClass:"gtrail",class:{amBeingHovered:t.amBeingHovered,myWaypointHovered:t.myWaypointHovered,myWaypointBeingViewed:t.myWaypointBeingViewed},on:{mouseenter:function(e){return t.mouseEnter()},mouseleave:function(e){return t.mouseLeave()}}},[n("path",{staticClass:"svgtrail",attrs:{d:t.svgTrailPath}}),n("path",{staticClass:"svgtrail-arrows",attrs:{d:t.svgTrailPath}}),t._v(" "+t._s(t.traildata.id+"-"+t.traildata.fields.Waypoints.length)+" "+t._s(t.currentlyViewingWaypoint)+" ")])},xt=[],$t=(n("b64b"),n("a8bc")),Mt={name:"Trail",data:function(){return{radius:50,location:null,amBeingHovered:!1}},props:["traildata"],created:function(){},computed:{waypoints:function(){return this.$store.getters.waypoints},hoveringWaypoints:function(){return this.$store.state.hoveringWaypoints},currentlyViewingWaypoint:function(){return this.$store.state.route.params.wpid},myWaypointHovered:function(){var t=this;return t.hoveringWaypoints.filter((function(e){return t.traildata.fields.Waypoints.indexOf(e)>-1})).length>0},myWaypointBeingViewed:function(){var t=this;return t.traildata.fields.Waypoints.includes(t.currentlyViewingWaypoint)},svgTrailPath:function(){var t=this;try{var e=t.traildata.fields.Waypoints.map((function(e){return[t.waypoints[e].fields.coordinateX,t.waypoints[e].fields.coordinateY]}))}catch(s){return console.log("i was caught"),""}var n=new $t["CurveInterpolator"](e,{tension:.2}),i=1*Object.keys(this.waypoints).length,o=n.getPoints(i),a="M";return a+=o.map((function(t){return t[0]+" "+t[1]})).join(" L"),a}},methods:{mouseEnter:function(){this.amBeingHovered=!0,this.$store.commit("addHoveringTrails",{ids:[this.traildata.id]})},mouseLeave:function(){this.amBeingHovered=!1,this.$store.commit("removeHoveringTrails",{ids:[this.traildata.id]})}}},Ot=Mt,Pt=(n("3397"),Object(l["a"])(Ot,Dt,xt,!1,null,null,null)),Et=Pt.exports,jt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"graphbackground",style:t.widthheightstyle},[n("svg",{attrs:{height:"100%",width:"100%"}},[n("foreignObject",{attrs:{x:"0%",y:"0%",width:"100%",height:"100%"}},[n("h1",{staticStyle:{"font-size":"30em",opacity:"0.3",color:"red",transform:"rotate(-30deg)"}},[t._v("DRAFT")])]),t._l(t.circleRadiuses,(function(e){return n("circle",{key:e,staticClass:"radiusCircle",attrs:{cx:t.sidelength/2,cy:t.sidelength/2,r:e}})}))],2),t.displayGraphCommons?n("div",[n("iframe",{staticClass:"graphcommons",staticStyle:{overflow:"hidden"},attrs:{src:"https://graphcommons.com/graphs/79a352f7-b77a-4395-ae02-63c59251aaf6/embed?topbar=false&fitgraph=true",frameborder:"0",width:"100%",height:"100%",allowfullscreen:""}})]):t._e()])},Lt=[],Bt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("h2",[t._v("CONTOUR MAPPP")]),n("button",{on:{click:function(e){t.data=t.dataFromWaypoints}}},[t._v("swapdata")]),t._v(" "+t._s(t.wee)+" "+t._s(t.contourList)+" ")])},zt=[],Vt={name:"ContourMap",components:{},data:function(){return{contours:null,contourList:null,wee:null}},props:{},created:function(){this.initData()},computed:{waypoints:function(){return this.$store.state.waypoints},dataFromWaypoints:function(){var t={};return t.x=Object.values(this.waypoints).map((function(t){return t.fields.coordinateX/100})),t.y=Object.values(this.waypoints).map((function(t){return t.fields.coordinateY/100})),t.z=Object.values(this.waypoints).map((function(t){return 3})),t.type="contour",t}},methods:{initData:function(){var t=[[0,1,0],[1,2,1],[0,1,0]],e=new Conrec.Conrec;e.contour(t,0,2,0,2,[1,2,3],[1,2,3],3,[0,1,2]),console.log(e.contours),this.wee=e.contours}}},Ht=Vt,It=(n("2e6d"),Object(l["a"])(Ht,Bt,zt,!1,null,"d50498e0",null)),Nt=It.exports,At={name:"GraphBackground",data:function(){return{}},props:["leafdata"],components:{ContourMap:Nt},created:function(){},computed:{displayGraphCommons:function(){return this.$store.state.displayGraphCommons},sidelength:function(){return this.$store.state.sidelength},widthheightstyle:function(){return"width: ".concat(this.sidelength,"px; height: ").concat(this.sidelength,"px;")},circleRadiuses:function(){for(var t=[],e=1;e<5;e++)t.push(200*e);return t}},methods:{}},Gt=At,Yt=(n("60ec"),Object(l["a"])(Gt,jt,Lt,!1,null,"4d00b482",null)),Rt=Yt.exports,Xt={name:"SkillTreeGraph",data:function(){return{panzoom:null,shiftPressed:!1,altPressed:!1}},components:{DraggableWaypoint:Wt,Trail:Et,GraphBackground:Rt,CursorToolbar:ut,DevInterface:U,MouseDialog:I},props:{},mounted:function(){this.initPanZoom(),this.initKeyHandler()},created:function(){},computed:{zoomScale:function(){return this.$store.state.zoomScale},cursorMode:function(){return this.$store.state.cursorMode},currentlyViewingWaypoint:function(){return this.$store.state.route.params.wpid},trailStatusesToShow:function(){return this.$store.state.trailStatusesToShow},waypoints:function(){return this.$store.getters.waypoints},trails:function(){return this.$store.getters.trails}},methods:{onClick:function(t){this.cursorMode.navigate&&t.target===t.currentTarget&&this.unclickWaypoints(),this.cursorMode.zoom&&(this.shiftPressed||this.altPressed?this.panzoom.zoomOut():this.panzoom.zoomIn())},unclickWaypoints:function(){this.currentlyViewingWaypoint&&this.$router.push("/map").catch((function(t){}))},initKeyHandler:function(){var t=this,e=function(e){try{t.shiftPressed=e.shiftKey,t.altPressed=e.altKey}catch(n){}};window.addEventListener("keydown",e,!1),window.addEventListener("keyup",e,!1)},initPanZoom:function(){var t=this,e=(document.getElementById("graphwindow"),document.getElementById("graphcontents"));t.panzoom=j()(e,{maxScale:2,minScale:.1,startX:-400,startY:-400,startScale:1}),e.parentElement.addEventListener("wheel",(function(e){e.preventDefault(),e.ctrlKey?t.panzoom.zoomWithWheel(e,{step:.15}):t.panzoom.pan(-e.deltaX/t.panzoom.getScale(),-e.deltaY/t.panzoom.getScale(),{relative:!0})})),window.pz=t.panzoom,e.addEventListener("panzoomzoom",(function(e){t.$store.commit("setZoomScale",{zoomScale:e.detail.scale})}))}}},Ft=Xt,Ut=(n("c722"),Object(l["a"])(Ft,O,P,!1,null,"4ec7626a",null)),Kt=Ut.exports,Zt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"listview"},t._l(t.trails,(function(e,o){return i("div",{key:o},[i("div",{staticClass:"trailname"},[i("img",{staticClass:"trailicon",attrs:{src:n("a4af")}}),t._v(t._s(e.fields.Name))]),i("ul",t._l(e.fields.Waypoints,(function(e){return i("li",{key:e},[i("WaypointIcon",{attrs:{waypointdata:t.waypoints[e]}}),i("router-link",{staticClass:"navlink waypointlink",attrs:{to:{name:"ListView",params:{wpid:e,slug:t.convertToSlug(t.waypoints[e].fields.Name)}}}},[i("div",{staticClass:"name"},[t._v(t._s(t.waypoints[e].fields.Name))])]),i("div",{staticClass:"author-name"},[t._v(t._s(t.waypoints[e].fields["Author Name"]))])],1)})),0)])})),0)},qt=[],Jt={name:"ListView",mixins:[ht],data:function(){return{}},components:{WaypointIcon:Tt},props:{},created:function(){},computed:{waypoints:function(){return this.$store.getters.waypoints},trails:function(){return this.$store.getters.trails}},methods:{}},Qt=Jt,te=(n("1cee"),Object(l["a"])(Qt,Zt,qt,!1,null,"79db1a40",null)),ee=te.exports;i["a"].use(a["a"]);var ne=[{path:"/",redirect:"/map"},{path:"/map/:wpid?/:slug?",name:"MapView",components:{view:Kt,content:M}},{path:"/list/:wpid?/:slug?",name:"ListView",components:{view:ee,content:M}},{path:"/about",name:"About",components:{view:y}},{path:"/comingsoon",name:"Coming Soon",components:{view:p}}],ie=new a["a"]({mode:"history",base:"/",routes:ne}),oe=ie,ae=(n("4160"),n("13d5"),n("4fad"),n("c1f9"),n("159b"),n("3835")),se=n("2f62"),re=n("0e44"),ce=n("6e15"),ue=n.n(ce),le="app1nwPhnOPNvChPK",de="keyoQpvlH7D3w9kIB",pe="Grid%20view",fe="https://api.airtable.com/v0/".concat(le,"/Waypoint?api_key=").concat(de,"&view=").concat(pe),he="https://api.airtable.com/v0/".concat(le,"/Trails?api_key=").concat(de,"&view=").concat(pe);function me(t,e){return isNaN(t)?0:t*e/2+e/2}i["a"].use(se["a"]);var ge=new se["a"].Store({plugins:[Object(re["a"])({key:"vuex",reducer:function(t){if(!0===t.clearState)return{};var e=Object.assign({},t),n=["hasLoaded","hoveringTrails","hoveringWaypoints","zoomScale","route","unfilteredWaypoints","unfilteredTrails","waypoints","trails"];return n.forEach((function(t){delete e[t]})),e}})],state:{count:0,sidelength:2e3,hasLoaded:!1,currentlyViewingWaypoint:null,waypointsDraggable:!1,waypoints:{},trails:[],unfilteredWaypoints:{},unfilteredTrails:[],hoveringTrails:[],hoveringWaypoints:[],waypointStatusesToShow:["Published"],trailStatusesToShow:["Published"],displayGraphCommons:!1,zoomScale:1,cursorMode:{navigate:!0,markasdone:!1,zoom:!1,hiking:!1},waypointsMarkedDone:[],isTouchDevice:!1,clearState:!1},getters:{trails:function(t){return t.trails},waypoints:function(t){return t.waypoints}},mutations:{setDisplayGraphCommons:function(t,e){t.displayGraphCommons=e},clearPersistedState:function(t){t.clearState=!0},setTouchDevice:function(t,e){t.isTouchDevice=e},setZoomScale:function(t,e){t.zoomScale=e.zoomScale},setCursorMode:function(t,e){e.mode in t.cursorMode&&(Object.keys(t.cursorMode).forEach((function(e){t.cursorMode[e]=!1})),t.cursorMode[e.mode]=!0)},setLoaded:function(t){t.hasLoaded=!0},currentlyViewingWaypoint:function(t,e){t.currentlyViewingWaypoint=e.id},addHoveringWaypoint:function(t,e){t.hoveringWaypoints.includes(e.id)||t.hoveringWaypoints.push(e.id)},removeHoveringWaypoint:function(t,e){t.hoveringWaypoints=[]},addHoveringTrails:function(t,e){e.ids.forEach((function(e){t.hoveringTrails.includes(e)||t.hoveringTrails.push(e)}))},removeHoveringTrails:function(t,e){e.ids.forEach((function(e){t.hoveringTrails=t.hoveringTrails.filter((function(t){return t!==e}))}))},setWaypointsDraggable:function(t,e){t.waypointsDraggable=1==e},setUnfilteredWaypoints:function(t,e){t.unfilteredWaypoints=e},setUnfilteredTrails:function(t,e){t.unfilteredTrails=e},setWaypoints:function(t,e){t.waypoints=e},addWaypointMarkedDone:function(t,e){t.waypointsMarkedDone.includes(e.id)||t.waypointsMarkedDone.push(e.id)},removeWaypointMarkedDone:function(t,e){t.waypointsMarkedDone=t.waypointsMarkedDone.filter((function(t){return t!==e.id}))},setTrails:function(t,e){t.trails=e},setWaypointStatusesToShow:function(t,e){t.waypointStatusesToShow=e},setTrailStatusesToShow:function(t,e){t.trailStatusesToShow=e},setWaypointCoordinates:function(t,e){var n=t.waypoints[e.waypointid];n.fields.coordinateX=Math.max(0,Math.min(t.sidelength,e.x)),n.fields.coordinateY=Math.max(0,Math.min(t.sidelength,e.y))}},actions:{clearPersistedState:function(t){t.state;var e=t.commit;e("clearPersistedState"),location.reload()},toggleWaypointDone:function(t,e){var n=t.state,i=t.commit;n.waypointsMarkedDone.includes(e.id)?i("removeWaypointMarkedDone",{id:e.id}):i("addWaypointMarkedDone",{id:e.id})},fetch:function(t){t.state.hasLoaded||t.dispatch("fetchWaypointsAndTrails")},fetchWaypointsAndTrails:function(t){var e=0,n=2,i=new XMLHttpRequest;i.open("GET",fe),i.onload=function(){var o=JSON.parse(i.responseText).records.filter((function(t){return t.fields["Name"]}));o.forEach((function(t){t.fields.Trails=t.fields.Trails||[]}));var a=o.reduce((function(e,n){return n.fields.coordinateX=me(n.fields.coordinateX,t.state.sidelength),n.fields.coordinateY=me(n.fields.coordinateY,t.state.sidelength),e[n.id]=n,e}),{});t.commit("setUnfilteredWaypoints",a),t.commit("setWaypoints",a),++e>=n&&(t.dispatch("filterTrailsAndWaypoints",{trailStatusesToShow:t.state.trailStatusesToShow,waypointStatusesToShow:t.state.waypointStatusesToShow}),t.commit("setLoaded"))},i.send();var o=new XMLHttpRequest;o.open("GET",he),o.onload=function(){var i=JSON.parse(o.responseText).records.filter((function(t){return t.fields["Name"]})),a=i.filter((function(t){return"Waypoints"in t.fields})).reduce((function(t,e){return t[e.id]=e,t}),{});t.commit("setUnfilteredTrails",a),t.commit("setTrails",a),++e>=n&&(t.dispatch("filterTrailsAndWaypoints",{trailStatusesToShow:t.state.trailStatusesToShow,waypointStatusesToShow:t.state.waypointStatusesToShow}),t.commit("setLoaded"))},o.send()},filterTrailsAndWaypoints:function(t,e){var n=t.commit,i=t.state,o={},a=Object.values(i.unfilteredWaypoints).filter((function(t){return e.waypointStatusesToShow.includes(t.fields.Status)})).map((function(t){return t.id})),s=Object.values(i.unfilteredTrails).filter((function(t){return e.trailStatusesToShow.includes(t.fields.Status)})).map((function(t){return t.id})),r=ue()(i.unfilteredWaypoints);o.waypoints=Object.fromEntries(Object.entries(r).filter((function(t){var e=Object(ae["a"])(t,2),n=e[0];e[1];return a.includes(n)})).map((function(t){var e=Object(ae["a"])(t,2),n=e[0],i=e[1];return i.fields.Trails=i.fields.Trails.filter((function(t){return s.includes(t)})),[n,i]})));var c=ue()(i.unfilteredTrails);o.trails=Object.fromEntries(Object.entries(c).filter((function(t){var e=Object(ae["a"])(t,2),n=e[0];e[1];return s.includes(n)})).filter((function(t){var e=Object(ae["a"])(t,2),n=(e[0],e[1]);return"Waypoints"in n.fields})).map((function(t){var e=Object(ae["a"])(t,2),n=e[0],i=e[1];return i.fields.Waypoints=i.fields.Waypoints.filter((function(t){return a.includes(t)})),[n,i]}))),n("setWaypoints",o.waypoints),n("setTrails",o.trails),n("setWaypointStatusesToShow",e.waypointStatusesToShow),n("setTrailStatusesToShow",e.trailStatusesToShow)}}}),ve=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:{mobile:t.isTouchDevice},attrs:{id:"app"}},[n("section",{attrs:{id:"header"}},[n("TopHeader")],1),n("section",{attrs:{id:"center"}},[n("section",{attrs:{id:"view"}},[n("router-view",{attrs:{name:"view"}})],1),n("section",{attrs:{id:"content"}},[n("router-view",{attrs:{name:"content"}})],1)])])},ye=[],we=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"topheader"}},[n("div",{staticClass:"leftlinks"},[n("router-link",{staticClass:"navlink",attrs:{to:{name:"ListView",params:t.paramsForRoute}}},[t._v("List View")]),n("router-link",{staticClass:"navlink",attrs:{to:{name:"MapView",params:t.paramsForRoute}}},[t._v("Map View")])],1),t._m(0),n("div",{staticClass:"rightlinks"},[n("router-link",{staticClass:"navlink",attrs:{to:"/about"}},[n("font-awesome-icon",{attrs:{icon:"question"}}),t._v(" About")],1)],1)])},be=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"centerlogo"},[i("img",{staticClass:"svglogo",attrs:{src:n("9b19"),alt:"GSAPP SKILL TRAILS"}})])}];n("b0c0");tt["c"].add(et["e"]);var _e={name:"TopHeader",data:function(){return{}},components:{FontAwesomeIcon:Q["a"]},computed:{paramsForRoute:function(){return{wpid:this.$route.params.wpid,slug:this.$route.params.slug}},currentRouteName:function(){return this.$route.name}},methods:{}},Te=_e,Ce=(n("917e"),Object(l["a"])(Te,we,be,!1,null,"c0e27e06",null)),ke=Ce.exports;n("1276");function Se(){var t=" -webkit- -moz- -o- -ms- ".split(" "),e=function(t){return window.matchMedia(t).matches};if("ontouchstart"in window||window.DocumentTouch)return!0;var n=["(",t.join("touch-enabled),("),"heartz",")"].join("");return e(n)}var We={components:{TopHeader:ke,SkillTreeGraph:Kt},created:function(){this.$store.dispatch("fetch"),this.$store.commit("setTouchDevice",this.isTouchDevice)},computed:{isTouchDevice:function(){return Se()},currentlyViewingWaypoint:function(){return this.$store.state.currentlyViewingWaypoint}}},De=We,xe=(n("5c0b"),Object(l["a"])(De,ve,ye,!1,null,null,null)),$e=xe.exports,Me=n("ba48"),Oe=n.n(Me);i["a"].use(Oe.a),Object(o["sync"])(ge,oe),new i["a"]({router:oe,store:ge,render:function(t){return t($e)}}).$mount("#app")},"5c0b":function(t,e,n){"use strict";var i=n("9c0c"),o=n.n(i);o.a},"5de6":function(t,e,n){},"5eaa":function(t,e,n){"use strict";var i=n("3589"),o=n.n(i);o.a},"5ece":function(t,e,n){t.exports=n.p+"img/waypoint-icon.1d014196.svg"},"60ec":function(t,e,n){"use strict";var i=n("a039"),o=n.n(i);o.a},"75a0":function(t,e,n){"use strict";var i=n("b9be"),o=n.n(i);o.a},"7ce2":function(t,e,n){},"7d9e":function(t,e,n){},8350:function(t,e,n){"use strict";var i=n("d4e5"),o=n.n(i);o.a},"84e6":function(t,e,n){"use strict";var i=n("d6ad"),o=n.n(i);o.a},"917e":function(t,e,n){"use strict";var i=n("cfdd"),o=n.n(i);o.a},"9b19":function(t,e,n){t.exports=n.p+"img/logo.1ba3f7ff.svg"},"9c0c":function(t,e,n){},a039:function(t,e,n){},a0b8:function(t,e,n){t.exports=n.p+"img/check-icon.bedc2f67.svg"},a2d5:function(t,e,n){},a4af:function(t,e,n){t.exports=n.p+"img/trail-icon.ce3f8bdd.svg"},b604:function(t,e,n){"use strict";var i=n("b7c1"),o=n.n(i);o.a},b7c1:function(t,e,n){},b9be:function(t,e,n){},c1dc:function(t,e,n){"use strict";var i=n("d5c0"),o=n.n(i);o.a},c722:function(t,e,n){"use strict";var i=n("c895"),o=n.n(i);o.a},c894:function(t,e,n){},c895:function(t,e,n){},cfdd:function(t,e,n){},d4e5:function(t,e,n){},d5c0:function(t,e,n){},d6ad:function(t,e,n){},fee9:function(t,e,n){}});
//# sourceMappingURL=app.1f81446d.js.map